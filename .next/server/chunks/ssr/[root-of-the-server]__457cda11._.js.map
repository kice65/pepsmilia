{"version":3,"sources":["../../../../src/utils/firebase.ts","../../../../src/utils/stripe.ts","../../../../src/components/BookingForm.tsx","../../../../src/components/Testimonials.tsx","../../../../src/pages/admin/index.jsx","../../../../node_modules/next/src/build/templates/pages.ts"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY!,\r\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN!,\r\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID!,\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nexport const db = getFirestore(app);\r\n","import { loadStripe, Stripe } from \"@stripe/stripe-js\";\r\n\r\nexport const stripePromise: Promise<Stripe | null> = loadStripe(\r\n  process.env.NEXT_PUBLIC_STRIPE_PUBLIC_KEY!\r\n);\r\n","\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { db } from \"../utils/firebase\";\r\nimport { collection, addDoc, serverTimestamp } from \"firebase/firestore\";\r\nimport emailjs from \"@emailjs/browser\";\r\nimport { stripePromise } from \"../utils/stripe\";\r\n\r\ninterface FormState {\r\n  name: string;\r\n  email: string;\r\n  message: string;\r\n}\r\n\r\nexport default function BookingForm() {\r\n  const [form, setForm] = useState<FormState>({ name: \"\", email: \"\", message: \"\" });\r\n  const [status, setStatus] = useState<\"\" | \"loading\" | \"success\" | \"error\">(\"\");\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setStatus(\"loading\");\r\n\r\n    try {\r\n      // Save to Firestore\r\n      await addDoc(collection(db, \"bookings\"), { ...form, createdAt: serverTimestamp(), paid: false });\r\n\r\n      // Send EmailJS\r\n      await emailjs.send(\r\n        process.env.EMAILJS_SERVICE_ID!,\r\n        process.env.EMAILJS_TEMPLATE_ID!,\r\n        form as unknown as Record<string, unknown>,\r\n        process.env.EMAILJS_PUBLIC_KEY!\r\n      );\r\n\r\n      // Stripe Checkout\r\n      const stripe = await stripePromise;\r\n      if (!stripe) {\r\n        setStatus(\"error\");\r\n        return;\r\n      }\r\n\r\n      const res = await fetch(\"/api/create-checkout-session\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(form),\r\n      });\r\n\r\n      const data = await res.json();\r\n      const checkoutResult = await (stripe as any).redirectToCheckout({ sessionId: data.id });\r\n      if (checkoutResult?.error) throw checkoutResult.error;\r\n\r\n      setStatus(\"success\");\r\n    } catch (err) {\r\n      console.error(err);\r\n      setStatus(\"error\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form\r\n      onSubmit={handleSubmit}\r\n      className=\"bg-white p-8 rounded-xl shadow-md flex flex-col gap-4 max-w-md mx-auto\"\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        name=\"name\"\r\n        placeholder=\"Name\"\r\n        required\r\n        value={form.name}\r\n        onChange={handleChange}\r\n        className=\"p-3 border rounded\"\r\n      />\r\n      <input\r\n        type=\"email\"\r\n        name=\"email\"\r\n        placeholder=\"Email\"\r\n        required\r\n        value={form.email}\r\n        onChange={handleChange}\r\n        className=\"p-3 border rounded\"\r\n      />\r\n      <textarea\r\n        name=\"message\"\r\n        placeholder=\"Message\"\r\n        required\r\n        value={form.message}\r\n        onChange={handleChange}\r\n        className=\"p-3 border rounded\"\r\n      />\r\n      <button type=\"submit\" className=\"bg-blue-600 text-white p-3 rounded\">\r\n        {status === \"loading\" ? \"Processing...\" : \"Book & Pay\"}\r\n      </button>\r\n      {status === \"error\" && <p className=\"text-red-500 mt-2\">Error, please try again.</p>}\r\n      {status === \"success\" && <p className=\"text-green-500 mt-2\">Booking saved! Redirecting to payment...</p>}\r\n    </form>\r\n  );\r\n}\r\n","import { motion } from \"framer-motion\";\r\n\r\nexport default function Testimonials() {\r\n  const data = [\r\n    {\r\n      name: \"Stephanie, CEO Digitech\",\r\n      message:\r\n        \"The team guided me from school selection to study permit approval, making my dream to study in Canada a reality.\",\r\n    },\r\n    {\r\n      name: \"James, Student\",\r\n      message: \"Smooth and stress-free process. Highly recommend Pepsmilia Consult!\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"max-w-5xl mx-auto grid md:grid-cols-2 gap-8\">\r\n      {data.map((t, idx) => (\r\n        <motion.div\r\n          key={idx}\r\n          initial={{ opacity: 0, y: 30 }}\r\n          whileInView={{ opacity: 1, y: 0 }}\r\n          viewport={{ once: true }}\r\n          className=\"p-6 bg-white rounded-xl shadow-md\"\r\n        >\r\n          <p className=\"text-gray-700 mb-2\">\"{t.message}\"</p>\r\n          <h4 className=\"font-bold\">{t.name}</h4>\r\n        </motion.div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import BookingForm from \"../../components/BookingForm\";\r\nimport Testimonials from \"../../components/Testimonials\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nexport default function Home() {\r\n  return (\r\n    <>\r\n      <section className=\"bg-blue-900 text-white py-20 text-center\">\r\n        <motion.h1 initial={{ y:-50, opacity:0 }} animate={{ y:0, opacity:1 }} className=\"text-5xl font-bold mb-4\">\r\n          I’m Perpetua – Your Trusted Immigration Consultant\r\n        </motion.h1>\r\n        <motion.p initial={{ opacity:0 }} animate={{ opacity:1 }} transition={{ delay:0.5 }} className=\"text-xl mb-6\">\r\n          We guide you through every step of your immigration journey, from expert consultation to document preparation and submission.\r\n        </motion.p>\r\n      </section>\r\n\r\n      <section id=\"services\" className=\"py-16 container mx-auto\">\r\n        <h2 className=\"text-3xl font-bold text-center mb-12\">Our Services</h2>\r\n        <div className=\"grid md:grid-cols-3 gap-8\">\r\n          {[\"School Search\", \"Work Permit\", \"Permanent Residency\", \"Visa Services\", \"Flight Booking\"].map((service, idx) => (\r\n            <motion.div key={idx} whileHover={{ scale:1.05 }} className=\"p-6 bg-white rounded-xl shadow-md text-center\">\r\n              <h3 className=\"text-xl font-semibold mb-2\">{service}</h3>\r\n              <p className=\"text-gray-600\">Expert guidance to help you achieve {service.toLowerCase()} success.</p>\r\n            </motion.div>\r\n          ))}\r\n        </div>\r\n      </section>\r\n\r\n      <section id=\"testimonials\" className=\"bg-gray-100 py-16\">\r\n        <h2 className=\"text-3xl font-bold text-center mb-12\">Testimonials</h2>\r\n        <Testimonials />\r\n      </section>\r\n\r\n      <section id=\"booking\" className=\"py-16\">\r\n        <h2 className=\"text-3xl font-bold text-center mb-8\">Book a Consultation</h2>\r\n        <BookingForm />\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n","import { PagesRouteModule } from '../../server/route-modules/pages/module.compiled'\nimport { RouteKind } from '../../server/route-kind'\n\nimport { hoist } from './helpers'\n\n// Import the app and document modules.\nimport * as document from 'VAR_MODULE_DOCUMENT'\nimport * as app from 'VAR_MODULE_APP'\n\n// Import the userland code.\nimport * as userland from 'VAR_USERLAND'\nimport { getHandler } from '../../server/route-modules/pages/pages-handler'\n\n// Re-export the component (should be the default export).\nexport default hoist(userland, 'default')\n\n// Re-export methods.\nexport const getStaticProps = hoist(userland, 'getStaticProps')\nexport const getStaticPaths = hoist(userland, 'getStaticPaths')\nexport const getServerSideProps = hoist(userland, 'getServerSideProps')\nexport const config = hoist(userland, 'config')\nexport const reportWebVitals = hoist(userland, 'reportWebVitals')\n\n// Re-export legacy methods.\nexport const unstable_getStaticProps = hoist(\n  userland,\n  'unstable_getStaticProps'\n)\nexport const unstable_getStaticPaths = hoist(\n  userland,\n  'unstable_getStaticPaths'\n)\nexport const unstable_getStaticParams = hoist(\n  userland,\n  'unstable_getStaticParams'\n)\nexport const unstable_getServerProps = hoist(\n  userland,\n  'unstable_getServerProps'\n)\nexport const unstable_getServerSideProps = hoist(\n  userland,\n  'unstable_getServerSideProps'\n)\n\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesRouteModule({\n  definition: {\n    kind: RouteKind.PAGES,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    // The following aren't used in production.\n    bundlePath: '',\n    filename: '',\n  },\n  distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n  relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n  components: {\n    // default export might not exist when optimized for data only\n    App: app.default,\n    Document: document.default,\n  },\n  userland,\n})\n\nexport const handler = getHandler({\n  srcPage: 'VAR_DEFINITION_PAGE',\n  config,\n  userland,\n  routeModule,\n  getStaticPaths,\n  getStaticProps,\n  getServerSideProps,\n})\n"],"names":["PagesRouteModule","RouteKind","hoist","document","app","userland","getHandler","getStaticProps","getStaticPaths","getServerSideProps","config","reportWebVitals","unstable_getStaticProps","unstable_getStaticPaths","unstable_getStaticParams","unstable_getServerProps","unstable_getServerSideProps","routeModule","definition","kind","PAGES","page","pathname","bundlePath","filename","distDir","process","env","__NEXT_RELATIVE_DIST_DIR","relativeProjectDir","__NEXT_RELATIVE_PROJECT_DIR","components","App","default","Document","handler","srcPage"],"mappings":"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","ignoreList":[5]}